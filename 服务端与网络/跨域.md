# 跨域
　　通过 XHR 实现 Ajax 通信的一个主要限制，来源于跨域安全策略（同源策略）。默认情况下，XHR 对象只能访问同一个域中的资源。**同源策略** 是浏览器最核心也最基本的安全功能。这种安全策略可以预防某些恶意行为。但是，实现合理的跨域请求对于开发来说也是至关重要的。
  
# CORS（跨域源资源共享）
　　CORS（Cross-Origin Resource Sharing，跨域源资源共享）定义了必须访问跨源资源时，浏览器与服务器应该如何沟通。其背后的基本思想，就是 **使用自定义的 HTTP 头部让浏览器和服务器进行沟通**。
  
　　1.在发送某个请求时，需要给它附加一个额外的 **Origin 头部**，包含请求页面的源信息。
  
　　2.如果服务器认为这个请求可以接受，就在 **Access-Control-Allow-Origin** 头部中回发相同的源信息（如果是公共资源可回发 "\*"）。
  
　　3.若没有 **Access-Control-Allow-Origin** 这个头部，或头部的源信息不匹配，浏览器就会驳回请求。请求和响应都不包含 cookie 信息。

### IE 对 CORS 的实现（XDR）
　　IE8 中引入了 **XDR**（XDomainRequest）类型。这个对象和 XHR 类似，但能实现安全可靠的跨域通信，XDR 有以下特点：
  * cookie 不会随请求发送，也不会随响应返回
  * 只能设置请求头部信息中的 `Content-Type` 字段
  * 不能访问响应头部信息
  * 只支持 GET 和 POST 请求
  * 所有 XDR 请求都是异步执行的，不能用它创建同步请求
  
### 其他浏览器对 CORS 的实现（修改 XHR）
　　其他浏览器通过 **XMLHttpRequest** 对象实现了对 CORS 的原生支持。跨域时无需编写额外代码。与 XDR 对象不同，通过跨域 XHR 对象可以访问 `status` 和 `statusText` 属性，还支持同步请求。跨域 XHR 对象也有一些限制：
  * 不能使用 `setRequestHeader()` 设置自定义头部
  * 不能发送和接受 cookie
  * 调用 `getAllResponseHeaders()` 方法总会返回空字符串
